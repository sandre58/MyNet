name: Manual - Tag Projects

on:
  workflow_dispatch:
    inputs:
      dry_run:
        description: 'Dry run - Only show what would be tagged without creating tags'
        required: false
        default: 'false'
        type: choice
        options:
          - 'true'
          - 'false'
      force_all:
        description: 'Force tag all projects regardless of changes'
        required: false
        default: 'false'
        type: choice
        options:
          - 'true'
          - 'false'

permissions:
  contents: write      # Required to create tags

env:
  DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
  DOTNET_NOLOGO: true
  DOTNET_CLI_TELEMETRY_OPTOUT: 1

jobs:
  build:
    uses: sandre58/MyWorkflows/.github/workflows/tag.yml@main
    with:
      force-tag: ${{ github.event.inputs.force_all || 'false' }}  # Pass the force_all input to the reusable workflow
      dry-run: ${{ github.event.inputs.dry_run || 'false' }}      # Pass the dry_run input to the reusable workflow